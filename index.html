<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç‹—ç‹—è¨­è¨ˆä»»å‹™å–®</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
    
    /* LINE é¢¨æ ¼é…è‰² */
    :root {
      --line-green: #06C755;
      --line-bg: #F5F6F8;
    }
    
    body { 
      font-family: 'Noto Sans TC', sans-serif; 
      background-color: var(--line-bg); 
    }
    
    /* è‡ªè¨‚ LINE ç¶ è‰²æŒ‰éˆ• */
    .btn-line {
      background-color: var(--line-green);
      color: white;
      transition: all 0.2s;
    }
    .btn-line:active {
      background-color: #05b34c;
      transform: scale(0.98);
    }
    
    /* è¼¸å…¥æ¡†èšç„¦æ™‚çš„ç¶ è‰²å¤–æ¡† */
    .input-line:focus {
      border-color: var(--line-green);
      ring-color: var(--line-green);
      outline: none;
      box-shadow: 0 0 0 3px rgba(6, 199, 85, 0.2);
    }
  </style>
</head>
<body class="flex justify-center items-start min-h-screen">

  <div class="w-full max-w-md bg-white min-h-screen shadow-sm">
    
    <div class="bg-[#06C755] p-4 text-center sticky top-0 z-10 shadow-sm">
      <h1 class="text-lg font-bold text-white tracking-wide">
        ğŸ¶ ç‹—ç‹—è¨­è¨ˆä»»å‹™å–®
      </h1>
    </div>

    <form id="taskForm" class="p-5 space-y-5">
      
      <div class="bg-green-50 text-green-800 text-xs p-3 rounded-lg border border-green-100">
        ğŸ’¡ è«‹è©³ç´°å¡«å¯«éœ€æ±‚ï¼Œç‹—ç‹—è¨­è¨ˆå¸«æœƒå„˜å¿«è™•ç†ï¼
      </div>

      <div>
        <label class="block text-gray-800 text-sm font-bold mb-1.5">ğŸ‘¤ æ‚¨çš„ç¨±å‘¼</label>
        <input type="text" id="userName" class="input-line w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700" 
          placeholder="ä¾‹å¦‚ï¼šKaren / éŠæˆ²éƒ¨é–€" required>
      </div>

      <div>
        <label class="block text-gray-800 text-sm font-bold mb-1.5">ğŸ“Œ é …ç›®åç¨±</label>
        <input type="text" id="project" class="input-line w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700" 
          placeholder="ä¾‹å¦‚ï¼šè”šè—æª”æ¡ˆ / ç·šä¸Š / Banner" required>
      </div>

      <div>
        <label class="block text-gray-800 text-sm font-bold mb-1.5">ğŸ“ è¦æ ¼å‚™è¨»</label>
        <textarea id="spec" rows="3" class="input-line w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700" 
          placeholder="å°ºå¯¸ã€æè³ªã€ç‰¹æ®Šè¦æ±‚..."></textarea>
      </div>

      <div>
        <label class="block text-gray-800 text-sm font-bold mb-1.5">ğŸ“… å¸Œæœ›æˆªç¨¿æ—¥</label>
        <input type="date" id="deadline" class="input-line w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700" required>
      </div>

      <div>
        <label class="block text-gray-800 text-sm font-bold mb-1.5">ğŸ”— ç´ æé€£çµ</label>
        <input type="text" id="link" class="input-line w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-700" 
          placeholder="ä¾‹å¦‚ï¼šå…¬æª”é€£çµ æˆ–æ˜¯ https://">
      </div>

      <div class="pt-4 pb-8">
        <button type="button" onclick="submitData()" id="submitBtn" class="w-full btn-line font-bold py-3.5 px-4 rounded-lg shadow-sm text-base flex justify-center items-center gap-2">
          <span>ğŸš€ é€å‡ºä»»å‹™</span>
        </button>
      </div>
    </form>
    
    <div class="text-center text-xs text-gray-400 pb-6">
      Design Service System
    </div>
  </div>

  <script>
    // ğŸ”´ğŸ”´ğŸ”´ è«‹å‹™å¿…å†æ¬¡ç¢ºèªé€™è£¡æœ‰æ›æˆæ‚¨çš„ Google Script ç¶²å€ï¼ ğŸ”´ğŸ”´ğŸ”´
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxKOQca5G4SzrnIqMSNeY5V_ffJoXr4cCi5yFkDdX2hFQ6-HxRbINY2Exy0ys3rPVQ/exec";

    function submitData() {
      const btn = document.getElementById('submitBtn');
      
      // æ”¶é›†è³‡æ–™
      const data = {
        userName: document.getElementById('userName').value,
        project: document.getElementById('project').value,
        spec: document.getElementById('spec').value,
        deadline: document.getElementById('deadline').value,
        link: document.getElementById('link').value
      };

      // æª¢æŸ¥å¿…å¡« (åªæª¢æŸ¥åå­—å’Œå°ˆæ¡ˆ)
      if(!data.userName || !data.project) {
        Swal.fire({ 
          icon: 'warning', 
          title: 'è³‡æ–™æœªå¡«å®Œ', 
          text: 'ã€Œç¨±å‘¼ã€å’Œã€Œé …ç›®åç¨±ã€æ˜¯å¿…å¡«çš„å–”ï¼', 
          confirmButtonColor: '#06C755' 
        });
        return;
      }

      // é–å®šæŒ‰éˆ•
      btn.disabled = true; 
      btn.innerHTML = 'ğŸ”„ å‚³é€ä¸­...';
      btn.classList.add('opacity-70');

      // ç™¼é€è³‡æ–™
      fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify(data),
        mode: "no-cors" 
      }).then(() => {
        // æˆåŠŸ
        Swal.fire({ 
          icon: 'success', 
          title: 'ç™¼é€æˆåŠŸï¼', 
          text: 'ç‹—ç‹—å·²ç¶“æ”¶åˆ°æ‚¨çš„ä»»å‹™äº†ï¼', 
          confirmButtonColor: '#06C755' 
        });
        document.getElementById('taskForm').reset();
        btn.disabled = false; 
        btn.innerHTML = '<span>ğŸš€ é€å‡ºä»»å‹™</span>';
        btn.classList.remove('opacity-70');
      }).catch(err => {
        // å¤±æ•—
        console.error(err);
        Swal.fire({ icon: 'error', title: 'å¤±æ•—', text: 'ç¶²è·¯æ€ªæ€ªçš„ï¼Œè«‹å†è©¦ä¸€æ¬¡' });
        btn.disabled = false; 
        btn.innerHTML = '<span>ğŸš€ é€å‡ºä»»å‹™</span>';
      });
    }
  </script>
</body>
</html>
