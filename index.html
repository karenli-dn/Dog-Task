<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‡±å€«å·¥å–®2.0</title>
  <meta name="description" content="ç”±ç‰¹åŠ©ç‹—ä¸»ç†çš„è¨­è¨ˆå·¥å–®ç³»çµ±ã€‚æ‰€æœ‰ä»»å‹™éƒ½æœƒè¢«è¨˜éŒ„ã€åˆ†é¡èˆ‡è¿½è¹¤ï¼›è³‡æ–™ä¸è¶³æœƒæé†’è£œé½Šï¼Œå®Œæ•´çš„éœ€æ±‚å°‡ç«‹å³é€²å…¥è™•ç†æµç¨‹ã€‚">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Fredoka+One&display=swap');
    
    /* === æ ¸å¿ƒèƒŒæ™¯å‹•ç•«ï¼šæ¶²æ…‹æµå‹•æ„Ÿ === */
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background: linear-gradient(-45deg, #FF9A9E, #FECFEF, #F6D365, #FDA085);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === ç»ç’ƒæ“¬æ…‹å¡ç‰‡ === */
    .glass-card {
      background: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.8);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
      border-radius: 2rem;
    }

    /* === è¼¸å…¥æ¡†æ¨£å¼ === */
    .glass-input {
      background: rgba(255, 255, 255, 0.6);
      border: 2px solid transparent;
      transition: all 0.3s ease;
      color: #4a5568;
    }
    .glass-input:focus {
      background: #ffffff;
      border-color: #F6D365;
      box-shadow: 0 0 15px rgba(246, 211, 101, 0.4);
      outline: none;
    }

    /* === ä¸»è¦–è¦ºåœ–ç‰‡ === */
    .hero-header {
      background-image: url('https://www.dropbox.com/scl/fi/zxy797tyhpzvhexf8rduo/top.jpg?rlkey=2vjn9wm9uzhh6tbewg3flm526&st=twu7afmw&raw=1');
      background-size: cover;
      background-position: center;
      height: 280px;
      width: 100%;
      position: relative;
      border-radius: 2rem 2rem 0 0;
      mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
      -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
    }

    /* === æŒ‰éˆ•æ¨£å¼ === */
    .btn-liquid {
      background: linear-gradient(45deg, #FF9A9E, #FECFEF);
      color: white;
      border: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
    }
    .btn-liquid:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 154, 158, 0.6);
    }
    .btn-liquid:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }
    
    /* å°æŒ‰éˆ• */
    .btn-icon { transition: all 0.2s; }
    .btn-icon:hover { transform: scale(1.1); }
    .title-font { font-family: 'Fredoka One', cursive; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
    
    /* é’èŠ’æœè‰²ç³»æŒ‰éˆ• */
    .btn-mango { background-color: #d9f99d; color: #3f6212; }
    .btn-mango:hover { background-color: #bef264; }

    /* èƒŒæ™¯è£é£¾çƒå‹•ç•« */
    @keyframes blob {
      0% { transform: translate(0px, 0px) scale(1); }
      33% { transform: translate(30px, -50px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.9); }
      100% { transform: translate(0px, 0px) scale(1); }
    }
    .animate-blob { animation: blob 7s infinite; }
    .animation-delay-2000 { animation-delay: 2s; }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
  </style>
</head>
<body>

  <div class="w-full max-w-md relative">
    
    <div class="glass-card overflow-hidden relative z-10">
      
      <div class="hero-header group">
        <div class="absolute top-0 left-0 w-full h-full p-6 flex flex-col justify-end pb-12 bg-gradient-to-t from-orange-900/50 via-transparent to-transparent">
           <span class="inline-block px-3 py-1 bg-white/20 backdrop-blur-md border border-white/30 rounded-full text-xs font-bold text-white mb-1 w-fit shadow-sm">
             Dog Assistant Desk
           </span>
           <h1 class="text-4xl font-bold text-white title-font tracking-wide">
             å‡±å€«å·¥å–®2.0
           </h1>
        </div>
      </div>

      <form id="taskForm" class="px-8 pb-8 pt-2 space-y-5 -mt-6 relative z-20">
        
        <div class="space-y-1">
          <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="userName">
            <span class="text-lg">ğŸ¾</span> å¬å–šè€…
          </label>
          <input type="text" id="userName" name="userName" required
            class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400"
            placeholder="ä¾‹ï¼škaren/éŠæˆ²éƒ¨">
        </div>

        <div class="space-y-1">
          <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="client">
            <span class="text-lg">ğŸ¾</span> å®¢æˆ¶æˆ–éŠæˆ²
          </label>
          <input type="text" id="client" name="client" required
            class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400"
            placeholder="ä¾‹ï¼šcygames/é—‡å½±è©©ç« ">
        </div>

        <div class="space-y-1">
          <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="project">
             <span class="text-lg">ğŸ¾</span> è¨­è¨ˆé …ç›®
          </label>
          <input type="text" id="project" name="project" required
            class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400"
            placeholder="ä¾‹ï¼šKVå»¶ä¼¸ã€Resizeã€å‘¨é‚Šã€ææ¡ˆè¦–è¦ºã€å½±ç‰‡å‰ªè¼¯â€¦">
        </div>

        <div class="space-y-1">
          <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="spec">
            <span class="text-lg">ğŸ¾</span> è¦æ ¼éœ€æ±‚
          </label>
          <textarea id="spec" name="spec" rows="3" required
            class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400 resize-none"
            placeholder="ä¾‹ï¼šFB 1200Ã—628ã€IG 1080Ã—1350ã€A3 æµ·å ±ã€1920Ã—1080 MP4â€¦"></textarea>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="space-y-1">
            <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="deadline">
              <span class="text-lg">ğŸ¾</span> æˆªç¨¿æ—¥
            </label>
            <input type="date" id="deadline" name="deadline" required
              class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium cursor-pointer">
          </div>
          
          <div class="space-y-1 flex flex-col">
             <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1" for="draftDate">
              <span class="text-lg">ğŸ¾</span> é è¨ˆé€²ç¨¿æ—¥
            </label>
            <input type="date" id="draftDate" name="draftDate"
              class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium cursor-pointer">
          </div>
        </div>

        <div class="space-y-1">
          <label class="block text-gray-600 font-bold text-sm ml-1 flex items-center gap-1 justify-between">
            <div class="flex items-center gap-1">
                <span class="text-lg">ğŸ¾</span> ç´ æé€£çµ
            </div>
            <button type="button" onclick="addLinkField()" class="text-xs px-3 py-1 rounded-full btn-icon font-bold btn-mango shadow-sm">
                + æ–°å¢é€£çµ
            </button>
          </label>
          
          <div id="linkContainer" class="space-y-2">
              <div class="flex gap-2 link-group">
                <input type="text" name="link[]"
                    class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400 link-input"
                    placeholder="è²¼ä¸Šç¶²å€æˆ–å…§éƒ¨è·¯å¾‘">
              </div>
          </div>
        </div>

        <div class="pt-2">
          <button type="button" onclick="submitData()" 
            id="submitBtn"
            class="w-full btn-liquid font-bold py-4 px-6 rounded-2xl text-lg flex justify-center items-center gap-2 relative overflow-hidden group">
            <div class="relative z-10 flex items-center justify-center gap-2 group-hover:scale-110 transition-transform duration-300">
              <svg class="w-8 h-8 fill-white drop-shadow-sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path d="M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.1-.9-78-33.3S-2.2 179.3 22.3 165.3s59.1 .9 78 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5v1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3v-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s53.5-47.3 78-33.3s29.1 51.7 10.2 84.1s-53.5 47.3-78 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z"/>
              </svg>
              <span class="tracking-widest">ç™¼é€ä»»å‹™</span>
            </div>
            <div class="absolute inset-0 h-full w-full bg-white/20 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
          </button>
        </div>
        
        <div class="text-center">
            <p class="text-[10px] text-gray-400 tracking-widest uppercase opacity-60">Designed by Karen</p>
        </div>
      </form>
    </div>
    
    <div class="absolute -top-10 -left-10 w-32 h-32 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
    <div class="absolute -bottom-10 -right-10 w-32 h-32 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>

  </div>

  <script>
    // ğŸ”´ğŸ”´ğŸ”´ 1. è«‹åœ¨æ­¤å¡«å…¥æ‚¨çš„ Google Apps Script ç¶²å€ (å¿…å¡«) ğŸ”´ğŸ”´ğŸ”´
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyIBXFj0ICtyPuUV-F1n1SybqdBeVqoeE0VZ6-zxTMLFn9u5XGi0-GnkwjUF25H9DG6/exec";
    
   
    // æ–°å¢é€£çµæ¬„ä½
    function addLinkField() {
        const container = document.getElementById('linkContainer');
        const newDiv = document.createElement('div');
        newDiv.className = 'flex gap-2 link-group animate-fade-in';
        newDiv.innerHTML = `
            <input type="text" name="link[]"
                class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400 link-input"
                placeholder="å¦ä¸€å€‹é€£çµ...">
            <button type="button" onclick="this.parentElement.remove()" class="text-gray-400 hover:text-red-500 px-2 btn-icon">
                âœ•
            </button>
        `;
        container.appendChild(newDiv);
    }

    // é€å‡ºè¡¨å–®
    function submitData() {
      var btn = document.getElementById('submitBtn');
      
      // 1. æŠ“å–è³‡æ–™
      var userName = document.getElementById('userName').value.trim();
      var client = document.getElementById('client').value.trim();
      var project = document.getElementById('project').value.trim();
      var spec = document.getElementById('spec').value.trim();
      var deadline = document.getElementById('deadline').value;
      var draftDate = document.getElementById('draftDate').value;
      
      // æ”¶é›†é€£çµ
      var linkInputs = document.querySelectorAll('.link-input');
      var links = [];
      linkInputs.forEach(input => {
          if(input.value.trim() !== "") {
              links.push(input.value.trim());
          }
      });
      var linkString = links.join('\n');

      // 2. æª¢æŸ¥å¿…å¡«
      if (userName === "" || project === "" || client === "") {
        Swal.fire({
          icon: 'warning',
          title: 'æ±ªæ±ªï¼ç¼ºè³‡æ–™',
          text: 'è«‹è‡³å°‘å¡«å¯«ã€Œå¬å–šè€…ã€ã€ã€Œå®¢æˆ¶ã€å’Œã€Œé …ç›®åç¨±ã€',
          confirmButtonColor: '#FF9A9E',
          iconColor: '#FF9A9E',
          background: 'rgba(255,255,255,0.95)',
          customClass: { popup: 'rounded-2xl' }
        });
        return;
      }

      // 3. é–å®šæŒ‰éˆ•
      btn.disabled = true;
      const originalHTML = btn.innerHTML;
      btn.innerHTML = 'ç‰¹åŠ©ç‹—ç˜‹ç‹‚è¼¸å…¥ä¸­...';
      
      // 4. æ‰“åŒ…è³‡æ–™
      var formData = {
        userName: userName,
        client: client,
        project: project,
        spec: spec,
        deadline: deadline,
        draftDate: draftDate,
        link: linkString
      };

      // 5. é€é fetch å‚³é€ (GitHub å°ˆç”¨)
      fetch(GOOGLE_SCRIPT_URL, {
        method: "POST",
        body: JSON.stringify(formData),
        mode: "no-cors"
      }).then(() => {
        // æˆåŠŸ
        Swal.fire({
            icon: 'success',
            title: 'ä»»å‹™æ”¶åˆ°ï¼',
            text: 'å·²è™•ç†å®Œç•¢ï¼',
            confirmButtonColor: '#FF9A9E',
            iconColor: '#FF9A9E',
            customClass: { popup: 'rounded-2xl' }
        }).then(() => {
            document.getElementById('taskForm').reset();
            // é‡ç½®é€£çµæ¬„ä½
            document.getElementById('linkContainer').innerHTML = `
                <div class="flex gap-2 link-group">
                    <input type="text" name="link[]"
                        class="w-full px-5 py-3 rounded-2xl glass-input text-gray-700 font-medium placeholder-gray-400 link-input"
                        placeholder="è²¼ä¸Šç¶²å€æˆ–å…§éƒ¨è·¯å¾‘">
                </div>
            `;
            btn.disabled = false;
            btn.innerHTML = originalHTML;
        });
      }).catch(err => {
        // å¤±æ•—
        console.error(err);
        Swal.fire({
            icon: 'error',
            title: 'å—·å—š...',
            text: 'ç¶²è·¯æ€ªæ€ªçš„ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚',
        });
        btn.disabled = false;
        btn.innerHTML = originalHTML;
      });
    }
  </script>
</body>
</html>
